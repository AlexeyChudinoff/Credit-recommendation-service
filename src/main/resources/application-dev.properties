# ===== Profile Settings =====
spring.config.activate.on-profile=dev

# ===== Server Configuration =====
server.port=8080

# ===== Database Configuration =====
# File-based H2 database for development
spring.datasource.url=jdbc:h2:file:./data/transaction;ACCESS_MODE_DATA=r
spring.datasource.driver-class-name=org.h2.Driver
spring.datasource.username=
spring.datasource.password=

# ===== Database Connection Pool Configuration =====
spring.datasource.hikari.maximum-pool-size=20
spring.datasource.hikari.minimum-idle=5
spring.datasource.hikari.connection-timeout=30000

# ===== JPA Configuration =====
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.H2Dialect

# ===== H2 Console =====
spring.h2.console.enabled=true
spring.h2.console.path=/h2-console

# ===== Logging Configuration =====
# Detailed logging for development
logging.level.com.bank.star=DEBUG
logging.level.org.springframework=INFO
logging.level.org.hibernate=INFO
logging.level.org.hibernate.SQL=DEBUG
logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE

# Console logging pattern
logging.pattern.console=%d{yyyy-MM-dd HH:mm:ss} - %highlight(%-5level) - %cyan(%logger{36}) - %msg%n

# File logging (optional for dev)
logging.file.name=./logs/recommendation-service-dev.log

# ===== Development Features =====
spring.main.lazy-initialization=false

# ===== Cache Configuration =====
spring.cache.type=simple
spring.cache.cache-names=recommendations,rules
spring.cache.caffeine.spec=maximumSize=100,expireAfterWrite=5m